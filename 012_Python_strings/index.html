<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>012 String formatting - GEOG0111</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">GEOG0111</a>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">

                    <ul class="nav navbar-nav ml-auto">
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#012-string-formatting" class="nav-link">012 String formatting</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#introduction" class="nav-link">Introduction</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#string-features" class="nav-link">String features</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#string-arithmetic" class="nav-link">String arithmetic</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#string-formating" class="nav-link">String formating</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#summary" class="nav-link">Summary</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="012-string-formatting">012 String formatting</h1>
<h2 id="introduction">Introduction</h2>
<h3 id="purpose">Purpose</h3>
<p>In this section we will learn some more depth about strings: features and formatting.</p>
<h3 id="prerequisites">Prerequisites</h3>
<p>You will need some understanding of the following:</p>
<ul>
<li><a href="../001_Notebook_use/">001 Using Notebooks</a></li>
<li><a href="../003_Help/">003 Getting help</a></li>
<li><a href="../010_Python_Introduction/">010 Variables, comments and print()</a></li>
<li><a href="../011_Python_data_types/">011 Data types</a> In particular, you should be understand strings and know how to find the length of a string.</li>
</ul>
<h3 id="timing">Timing</h3>
<p>The session should take around 30 minutes.</p>
<h2 id="string-features">String features</h2>
<h3 id="quotes-and-escapes">Quotes and escapes</h3>
<p>We have seen strings before, and noted that they are collections of characters (<code>a</code>, <code>b</code>, <code>1</code>, ...). Strings and characters are input by surrounding the relevant text in either double (<code>"</code>) or single (<code>'</code>) quotes. You can use this feature to print out a string with quotes, for example:</p>
<pre><code class="python">print (&quot;'a string in single quotes'&quot;)
print ('&quot;a string in double quotes&quot;')
</code></pre>

<pre><code>'a string in single quotes'
"a string in double quotes"
</code></pre>
<p>Some elements of the string may be special codes for print formatting, such as newline <code>\n</code> or tab <code>\t</code>. If we insert these in the string, they will add a newline or a tab respectively. Both of these might <em>look like</em> multiple characters, but rather are interpreted instead as a single character.</p>
<p>What if we needed to print out <code>\n</code> as part of the string, e.g. print the string:</p>
<pre><code>    "beware of \n and \t"
</code></pre>
<p>we will find that they are (as we probably suspected) interpreted. Using single or double quotes will make no difference:</p>
<pre><code class="python">print(&quot;beware of \n and \t&quot;)
print('beware of \n and \t')
</code></pre>

<pre><code>beware of 
 and    
beware of 
 and
</code></pre>
<p>What we need to do is to present the <code>print()</code> with two characters <code>\</code> and <code>n</code>, instead of the single character <code>\n</code>. The problem now is that <code>\</code> has special meaning in a string: it <em>escapes</em> the following character, i.e. it makes the interpreter ignore the meaning of the following character. If we tried to generate a string:</p>
<pre><code>    "\"
</code></pre>
<p>the code would fail, because <code>\"</code> means <em>don't</em> interpret <code>"</code> in its usual sense (i.e. as a quote) and we would have an unclosed string.</p>
<p>The trick then, is to use <code>\</code> to escape the meaning of <code>\</code>. So, if we want to print <code>\</code>, we set the string as <code>\\</code>:</p>
<pre><code class="python">print(&quot;\\&quot;)
</code></pre>

<pre><code>\
</code></pre>
<h4 id="exercise-1">Exercise 1</h4>
<ul>
<li>insert a new cell below here</li>
<li>Use what we have learned above to print the phrase <code>"beware of \n and \t"</code>, including quotes.</li>
</ul>
<p>Another time we use the <code>\</code> as an escape character is in trying to make long strings in our code more readable. We can do this by putting an escape <code>\</code> <strong>just before</strong> we hit the return key (newline!) on the keyboard, and so spread what would be a command or variable over a single long line over multiple lines.</p>
<p>For example:</p>
<pre><code class="python"># from https://www.usgs.gov/faqs/what-remote-sensing-and-what-it-used?
string = \
&quot;Remote sensing is the process of detecting and \
monitoring the physical characteristics of an \
area by measuring its reflected and emitted \
radiation at a distance (typically from \
satellite or aircraft).&quot;

print(string)
</code></pre>

<pre><code>Remote sensing is the process of detecting and monitoring the physical characteristics of an area by measuring its reflected and emitted radiation at a distance (typically from satellite or aircraft).
</code></pre>
<p>Here, when we type <code>string =</code> on the first line, the Python interpreter expects a string to be specified next. By using instead <code>\</code> <em>just before we hit the return</em>, we are essentially escaping that newline, and the rest of the command (the string definition here) can take place on the following line. We repeat this idea to spread the string over multiple lines.</p>
<p>This can be really useful. </p>
<p>In the special case of a string that we want to define over multiple lines though, Python has a special format using triple quotes (single or double):</p>
<pre><code>'''
multiple 
line
string
'''
</code></pre>
<p>that means we don't need to escape each end of line within the text.</p>
<pre><code class="python"># from https://www.usgs.gov/faqs/what-remote-sensing-and-what-it-used?
string = '''
Remote sensing is the process of detecting and 
monitoring the physical characteristics of an 
area by measuring its reflected and emitted 
radiation at a distance (typically from 
satellite or aircraft).
'''

print(string)
</code></pre>

<pre><code>Remote sensing is the process of detecting and 
monitoring the physical characteristics of an 
area by measuring its reflected and emitted 
radiation at a distance (typically from 
satellite or aircraft).
</code></pre>
<p>Notice how this is different to the case when we escaped the newline characters withing the string. In fact, at the end of each line of text, this string contains <code>\n</code> newline characters (we just don't see them).</p>
<h4 id="exercise-2">Exercise 2</h4>
<ul>
<li>Insert a new cell below here</li>
<li>
<p>Write Python code that prints a string containing the following text, spaced over four lines as intended. There should be no space at the start of the line.</p>
<pre><code>The Owl and the Pussy-cat went to sea 
In a beautiful pea-green boat, 
They took some honey, and plenty of money, 
Wrapped up in a five-pound note.
</code></pre>
</li>
<li>
<p>Write Python code that prints a string containing the above text, all on a single line.</p>
</li>
</ul>
<h2 id="string-arithmetic">String arithmetic</h2>
<p>We can use some of the arithmetic operators with strings. In particular <code>*</code> and <code>+</code>.</p>
<h3 id="_1"><code>*</code></h3>
<p>In the context of a string, the operator <code>*</code> is used to repeat the string. For example:</p>
<pre><code class="python"># multiplication example
dash = '-'
dash10 = dash * 10
print(dash,len(dash))
print(dash10,len(dash10))
</code></pre>

<pre><code>- 1
---------- 10
</code></pre>
<h4 id="exercise-3">Exercise 3</h4>
<ul>
<li>In a new cell below, generate a string called <code>base</code> and set this to the string <code>Hello</code> </li>
<li>print base and its length</li>
<li>set a new variable <code>mult</code> to <code>base * 10</code></li>
<li>print <code>mult</code> and its length</li>
<li>comment on why the lengths are the values reported</li>
</ul>
<h3 id="_2"><code>+</code></h3>
<p>The plus operator <code>+</code> adds two strings together, in the sense of <a href="https://en.wikipedia.org/wiki/Concatenation">concatenating</a> the strings. For example:</p>
<pre><code class="python"># hello world
astring = 'hello'
bstring = 'world'

cstring = astring + bstring
print('I joined',astring,'to',bstring,'with + and got',cstring)
</code></pre>

<pre><code>I joined hello to world with + and got helloworld
</code></pre>
<h4 id="exercise-4">Exercise 4</h4>
<p>You may have noticed that when we use <code>+</code> to join <code>hello + world</code> above, there is no space between the words. This is because we have not told the computer to put any such space in.</p>
<ul>
<li>Copy the code from the hello world example above</li>
<li>create a new string called <code>gap</code> containing whitespace: <code>gap = ' '</code></li>
<li>using <code>gap</code>, edit the code so that <code>cstring</code> has a gap between the words</li>
</ul>
<h2 id="string-formating">String formating</h2>
<h3 id="strformat"><code>str.format()</code></h3>
<p>We know that we can join strings together with <code>+</code> or, from a list with <code>str.join()</code>. </p>
<p>Whilst we have seen that you can print a string with some variables in it, e.g.:</p>
<pre><code class="python">float_val = 10.6
guess_value = 13.4
print(&quot;The number you are thinking of is&quot;,float_val,'but I guessed',guess_value)
</code></pre>

<pre><code>The number you are thinking of is 10.6 but I guessed 13.4
</code></pre>
<p>strings of that nature can soon become unwieldy. We could have converted each item to a string, and then joined the strings:</p>
<pre><code class="python">float_val = 10.6
guess_value = 13.4
# using + &amp; inserting the correct white spaces
string = &quot;The number you are thinking of is &quot; + \
          str(float_val) + \
         ' but I guessed ' + \
          str(guess_value)
print(string)
</code></pre>

<pre><code>The number you are thinking of is 10.6 but I guessed 13.4
</code></pre>
<p>but neither of these is very readable, or indeed very re-useable.</p>
<p>A neater way to form a string with variable inserts is to use the <code>format()</code> method:</p>
<pre><code>str.format(...)
 |      S.format(*args, **kwargs) -&gt; str
 |      
 |      Return a formatted version of S, using substitutions from args and kwargs.
 |      The substitutions are identified by braces ('{' and '}').
 |
</code></pre>
<p>Using this approach, we would set up a template:</p>
<pre><code>string_template = \
"The number you are thinking of is {think} but I guessed {guess}"
</code></pre>
<p>with variables <code>float_val</code> and <code>guess_value</code> defined between braces <code>{}</code>.</p>
<p>To insert values into this template, we use the string method <code>format()</code>. If the template variables are named (as in <code>{think}</code> and <code>{guess}</code> here), then we use <strong>keyword arguments</strong> with <code>format()</code>. For example:</p>
<pre><code class="python">string_template = \
    &quot;The number you are thinking of is {think} but I guessed {guess}&quot;

float_val = 10.6
guess_value = 13.4

print(string_template.format(think=float_val,\
                             guess=guess_value))
</code></pre>

<pre><code>The number you are thinking of is 10.6 but I guessed 13.4
</code></pre>
<p>This has the advantage that the template is easily re-useable, that we have been explicit about the variables we insert.</p>
<p>A further refinement on this is to specify some formatting statement for the variables we use. For example, we might want the value <code>float_val</code> or <code>guess_value</code> to be specified to two decimal places. To do this, we can provide a formatting statement to associate with the variable name in the template. This is done using a <code>:</code> qualifier, followed by a description of the format. For example, the format statement of two figures after the decimal point for a <code>float</code>is <code>:.2f</code>. </p>
<pre><code class="python">string_template = \
    &quot;The number you are thinking of is {think:.2f} but I guessed {guess:.2f}&quot;

float_val = 10.6
guess_value = 13.4

print(string_template.format(think=float_val,\
                             guess=guess_value))
</code></pre>

<pre><code>The number you are thinking of is 10.60 but I guessed 13.40
</code></pre>
<p>Other useful format statements examples include:</p>
<pre><code>                          : &gt;10.2f 
                             ^^ ^
 10, so length 10 in total  &lt;-| ||-&gt; f is code for float
                                |-&gt; .4 so length of 4 after decimal

                          : 0&gt;8d
         pad space with 0 &lt;-||||-&gt; d is code for integer
                             ||-&gt; 8 is length of string
                             |-&gt; use &gt; for right align

                          : _&gt;10s
        pad space with _ &lt;- || ||-&gt; s is code for string
   use &gt; for right align   &lt;-| |-&gt; 10 is length of string

                          : _&lt;10s
        pad space with _ &lt;- || ||-&gt; s is code for string
    use &lt; for left align   &lt;-| |-&gt; 10 is length of string
</code></pre>
<p>The syntax might seem a little awkward at first, but its is <a href="https://docs.python.org/3/library/string.html#formatstrings">very powerful</a>. So long as you are aware that it exists and know of some examples, you should be able to pick it up.</p>
<pre><code class="python">print(&quot;  : &gt;.2f  -&gt; {x: &gt;.2f}&quot;.format(x=10.3))
print(&quot;  :0&gt;8d    -&gt; {x:0&gt;8d}&quot;.format(x=10))
print(&quot;  :_&gt;10s   -&gt; {x:_&gt;10s}&quot;.format(x='hello'))
print(&quot;  :_&lt;10s   -&gt; {x:_&lt;10s}&quot;.format(x='hello'))
</code></pre>

<pre><code>  : &gt;.2f  -&gt; 10.30
  :0&gt;8d    -&gt; 00000010
  :_&gt;10s   -&gt; _____hello
  :_&lt;10s   -&gt; hello_____
</code></pre>
<p>Suppose we want to write a set of results to a different file for each job, where the identifier of the job is an integer number between 0 and 99999999.</p>
<p>We want the file names associated with these results to appear in a logical order.</p>
<p>We could just use file names <code>0.dat</code>, <code>1.dat</code>, <code>2.dat</code>, <code>3.dat</code> ... <code>10.dat</code>, <code>11.dat</code> etc. but we would find that when we list the files, they will be in the order <code>0.dat</code>, <code>1.dat</code>, <code>10.dat</code>, <code>11.dat</code>, ...  <code>2.dat</code>, <code>3.dat</code>, because this is the natural <a href="https://www.tutorialspoint.com/Sort-the-words-in-lexicographical-order-in-Python#:~:text=Sorting%20words%20in%20lexicographical%20order,(not%20the%20data%20structure).">'lexicographic' order</a> generally used by computers. We could define some awkward way of getting around this, but it would be much simpler if we simply padded the filenames with <code>0</code> characters, so that they appeared as <code>00000000.dat</code>, <code>00000001.dat</code>, <code>00000002.dat</code>, <code>00000003.dat</code> ... <code>00000010.dat</code>, <code>00000011.dat</code>. Then, lexigraphically, they will appear in the order we intended.</p>
<h4 id="exercise-5">Exercise 5</h4>
<ul>
<li>set a variable <code>index</code> to be an integer between <code>0</code> and <code>99999999</code>.</li>
<li>use this to generate a zero-padded filename of the form <code>00000010.dat</code></li>
<li>print out the filename</li>
</ul>
<h3 id="f-string"><code>f-string</code></h3>
<p>An alternative way of formatting a string that can be useful is the use of the <code>f-string</code>. In this, we place an <code>f</code> character at the start of the string. It is a sort of short-hand for what we do with the format statement, where the variables given in the braces are directly inserted.</p>
<p>Note that we can use the same sort of formatting statements for the f-string as when using <code>.format()</code> above.</p>
<pre><code class="python">string = f'The number you are thinking of is {float_val} but I guessed {guess_value}'
print(string)
</code></pre>

<pre><code>The number you are thinking of is 10.6 but I guessed 13.4
</code></pre>
<h4 id="exercise-6">Exercise 6</h4>
<ul>
<li>Insert a new cell below here</li>
<li>
<p>create a template string of the form:</p>
<pre><code>"what have the {people} ever done for us?"
</code></pre>
</li>
<li>
<p>assign the word <code>Romans</code> to the variable <code>people</code> and print the formatted template: hint: use the <code>str.format()</code> method to insert this into the template.</p>
</li>
<li>repeat this using an f-string directly.</li>
</ul>
<p>Actually, there are a lot more <a href="https://realpython.com/python-f-strings/#simple-syntax">useful things</a> we can do with an <code>f</code> string, but we will leave it here at this point.</p>
<h2 id="summary">Summary</h2>
<p>In this section, we have introduced some more detail on strings, especially string formatting. You should have agained an understanding of the use of quotes and escape code, as well as using <code>f-string</code>, <code>string.format()</code>.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>

        <div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
