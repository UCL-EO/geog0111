
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <meta name="author" content="Prof P. Lewis">
      
      <link rel="shortcut icon" href="../images/ucl.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.7">
    
    
      
        <title>021 URLs - GEOG0111</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.19753c6b.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.196e0c26.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
        
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-1347772-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview",document.location.pathname)})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#021-urls" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="GEOG0111" class="md-header-nav__button md-logo" aria-label="GEOG0111">
      
  <img src="../images/ucl.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            GEOG0111
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              021 URLs
            
          </span>
        </div>
      
    </div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/UCL-EO/geog0111/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="GEOG0111" class="md-nav__button md-logo" aria-label="GEOG0111">
      
  <img src="../images/ucl.png" alt="logo">

    </a>
    GEOG0111
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/UCL-EO/geog0111/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" >
    <label class="md-nav__link" for="nav-2">
      Course Basics
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Course Basics" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        Course Basics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../001_Notebook_use/" class="md-nav__link">
      Notebook Use
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../002_Unix/" class="md-nav__link">
      Unix
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../003_Help/" class="md-nav__link">
      Help
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../004_Accounts/" class="md-nav__link">
      Accounts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../005_Packages/" class="md-nav__link">
      Packages
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-6" type="checkbox" id="nav-2-6" >
    <label class="md-nav__link" for="nav-2-6">
      Answers
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Answers" data-md-level="2">
      <label class="md-nav__title" for="nav-2-6">
        <span class="md-nav__icon md-icon"></span>
        Answers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../001_Notebook_use_answers/" class="md-nav__link">
      Notebook Use
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../002_Unix_answers/" class="md-nav__link">
      Unix
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../003_Help_answers/" class="md-nav__link">
      Help
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" >
    <label class="md-nav__link" for="nav-3">
      Core Concepts
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Core Concepts" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Core Concepts
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../010_Python_Introduction/" class="md-nav__link">
      Python Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../011_Python_data_types/" class="md-nav__link">
      Python Data Types
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../012_Python_strings/" class="md-nav__link">
      Python Strings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../013_Python_string_methods/" class="md-nav__link">
      Python String Methods
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../014_Python_groups/" class="md-nav__link">
      Python Groups
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../015_Python_control/" class="md-nav__link">
      Python Control
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../016_Python_for/" class="md-nav__link">
      Python For
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../017_Functions/" class="md-nav__link">
      Functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../018_Running_Python/" class="md-nav__link">
      Running Python
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-10" type="checkbox" id="nav-3-10" >
    <label class="md-nav__link" for="nav-3-10">
      Answers
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Answers" data-md-level="2">
      <label class="md-nav__title" for="nav-3-10">
        <span class="md-nav__icon md-icon"></span>
        Answers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../010_Python_Introduction_answers/" class="md-nav__link">
      Python Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../011_Python_data_types_answers/" class="md-nav__link">
      Python Data Types
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../012_Python_strings_answers/" class="md-nav__link">
      Python Strings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../013_Python_string_methods_answers/" class="md-nav__link">
      Python String Methods
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../014_Python_groups_answers/" class="md-nav__link">
      Python Groups
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../015_Python_control_answers/" class="md-nav__link">
      Python Control
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../016_Python_for_answers/" class="md-nav__link">
      Python For
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../017_Functions_answers/" class="md-nav__link">
      Functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../018_Running_Python_answers/" class="md-nav__link">
      Running Python
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" >
    <label class="md-nav__link" for="nav-4">
      Data Basics
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Data Basics" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        Data Basics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../020_Python_files/" class="md-nav__link">
      Python Files
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../021_Streams.md" class="md-nav__link">
      Streams
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../022_Read_write_files.md" class="md-nav__link">
      Read Write Files
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../023_Plotting/" class="md-nav__link">
      Plotting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../024_Image_display/" class="md-nav__link">
      Image Display
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-6" type="checkbox" id="nav-4-6" >
    <label class="md-nav__link" for="nav-4-6">
      Answers
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Answers" data-md-level="2">
      <label class="md-nav__title" for="nav-4-6">
        <span class="md-nav__icon md-icon"></span>
        Answers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../020_Python_files_answers/" class="md-nav__link">
      Python Files
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../021_Streams_answers.md" class="md-nav__link">
      Streams
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../022_Read_write_files_answers.md" class="md-nav__link">
      Read Write Files
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../023_Plotting_answers/" class="md-nav__link">
      Plotting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../024_Image_display_answers/" class="md-nav__link">
      Image Display
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" >
    <label class="md-nav__link" for="nav-5">
      Array Data
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Array Data" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        Array Data
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../030_NASA_MODIS_Earthdata/" class="md-nav__link">
      NASA MODIS Earthdata
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../031_Numpy/" class="md-nav__link">
      Numpy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../032_More_numpy/" class="md-nav__link">
      More Numpy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-4" type="checkbox" id="nav-5-4" >
    <label class="md-nav__link" for="nav-5-4">
      Answers
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Answers" data-md-level="2">
      <label class="md-nav__title" for="nav-5-4">
        <span class="md-nav__icon md-icon"></span>
        Answers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../030_NASA_MODIS_Earthdata_answers/" class="md-nav__link">
      NASA MODIS Earthdata
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../031_Numpy_answers/" class="md-nav__link">
      Numpy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../032_More_numpy_answers/" class="md-nav__link">
      More Numpy
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" >
    <label class="md-nav__link" for="nav-6">
      Geospatial Data
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Geospatial Data" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon"></span>
        Geospatial Data
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../040_GDAL_mosaicing_and_masking/" class="md-nav__link">
      GDAL Mosaicing And Masking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../041_GDAL_timeseries/" class="md-nav__link">
      GDAL Timeseries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../042_Weighted_smoothing_and_interpolation/" class="md-nav__link">
      Weighted Smoothing And Interpolation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../043_Weighted_interpolation/" class="md-nav__link">
      Weighted Interpolation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6-5" type="checkbox" id="nav-6-5" >
    <label class="md-nav__link" for="nav-6-5">
      Answers
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Answers" data-md-level="2">
      <label class="md-nav__title" for="nav-6-5">
        <span class="md-nav__icon md-icon"></span>
        Answers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../040_GDAL_mosaicing_and_masking_answers/" class="md-nav__link">
      GDAL Mosaicing And Masking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../041_GDAL_timeseries_answers/" class="md-nav__link">
      GDAL Timeseries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../043_Weighted_interpolation_answers/" class="md-nav__link">
      Weighted Interpolation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" >
    <label class="md-nav__link" for="nav-7">
      Modelling
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Modelling" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon"></span>
        Modelling
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../050_Models/" class="md-nav__link">
      Models
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../051_Phenology_model/" class="md-nav__link">
      Phenology Model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7-3" type="checkbox" id="nav-7-3" >
    <label class="md-nav__link" for="nav-7-3">
      Answers
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Answers" data-md-level="2">
      <label class="md-nav__title" for="nav-7-3">
        <span class="md-nav__icon md-icon"></span>
        Answers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../050_Models_answers/" class="md-nav__link">
      Models
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../051_Phenology_model_answers/" class="md-nav__link">
      Phenology Model
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8" >
    <label class="md-nav__link" for="nav-8">
      Assessment
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Assessment" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon"></span>
        Assessment
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../060_Groups/" class="md-nav__link">
      Groups
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../061_Script/" class="md-nav__link">
      Script
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../062_Part1/" class="md-nav__link">
      Part1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../063_Part1_code/" class="md-nav__link">
      Part1 Code
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../064_Numpy/" class="md-nav__link">
      Numpy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../065_LAI/" class="md-nav__link">
      Lai
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../066_Part2/" class="md-nav__link">
      Part2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8-8" type="checkbox" id="nav-8-8" >
    <label class="md-nav__link" for="nav-8-8">
      Answers
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Answers" data-md-level="2">
      <label class="md-nav__title" for="nav-8-8">
        <span class="md-nav__icon md-icon"></span>
        Answers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../060_Groups_answers/" class="md-nav__link">
      Groups
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../061_Script_answers/" class="md-nav__link">
      Script
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../064_Numpy_answers/" class="md-nav__link">
      Numpy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../065_LAI_answers/" class="md-nav__link">
      Lai
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9" >
    <label class="md-nav__link" for="nav-9">
      Summary
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Summary" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        <span class="md-nav__icon md-icon"></span>
        Summary
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../070_Summary/" class="md-nav__link">
      Summary
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#purpose" class="md-nav__link">
    Purpose
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test" class="md-nav__link">
    Test
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources-from-a-url" class="md-nav__link">
    Resources from a URL
  </a>
  
    <nav class="md-nav" aria-label="Resources from a URL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#urlpath" class="md-nav__link">
    urlpath
  </a>
  
    <nav class="md-nav" aria-label="urlpath">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exercise-1" class="md-nav__link">
    Exercise 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urlget" class="md-nav__link">
    URL.get()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exercise-1_1" class="md-nav__link">
    Exercise 1
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modis-data" class="md-nav__link">
    MODIS data|
  </a>
  
    <nav class="md-nav" aria-label="MODIS data|">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getting-a-modis-product-url" class="md-nav__link">
    Getting a MODIS product URL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pulling-modis-data-with-password" class="md-nav__link">
    Pulling MODIS data with password
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exercise-2" class="md-nav__link">
    Exercise 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#easier-modis-file-access" class="md-nav__link">
    Easier MODIS file access
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exercise-3" class="md-nav__link">
    Exercise 3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gdal" class="md-nav__link">
    gdal
  </a>
  
    <nav class="md-nav" aria-label="gdal">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exercise-4" class="md-nav__link">
    Exercise 4
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    Summary
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/UCL-EO/geog0111/edit/master/docs/021_URLs.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="021-urls">021 URLs</h1>
<h2 id="introduction">Introduction</h2>
<h3 id="purpose">Purpose</h3>
<p>In this session, we will learn about files and similar resources. We will introduce the standard Python library <a href="https://docs.python.org/3/library/pathlib.html"><code>pathlib</code></a> which is how we deal with file paths. For URLs, we will use the Python packages: <a href="https://github.com/chrono-meter/urlpath">urlpath</a>.</p>
<h3 id="prerequisites">Prerequisites</h3>
<p>You will need some understanding of the following:</p>
<ul>
<li><a href="../001_Notebook_use/">001 Using Notebooks</a></li>
<li><a href="../002_Unix/">002 Unix</a> with a good familiarity with the UNIX commands we have been through.</li>
<li><a href="../003_Help/">003 Getting help</a></li>
<li><a href="../004_Accounts/">004_Accounts</a></li>
<li><a href="../005_Packages/">005_Packages</a></li>
<li><a href="../010_Python_Introduction/">010 Variables, comments and print()</a></li>
<li><a href="../011_Python_data_types/">011 Data types</a> </li>
<li><a href="../012_Python_strings/">012 String formatting</a></li>
<li><a href="../013_Python_string_methods/">013_Python_string_methods</a></li>
</ul>
<p>You will need a detailed understanding and familiarity with the <code>Path</code> package for dealing with files, as well asd the underlying concepts covered there.</p>
<ul>
<li><a href="../020_Python_files/">020_Python_files</a></li>
</ul>
<h3 id="test">Test</h3>
<p>In any public information (like these notebooks) we do not want to expose sensitive information such as usernames and passwords.</p>
<p>So here we will make use of stored passwords and usernames using the local <a href="../geog0111/cylog.py">cylog</a> package that was covered in <a href="../004_Accounts/">004_Accounts</a>. </p>
<p>We will be using the site <a href="https://e4ftl01.cr.usgs.gov"><code>https://e4ftl01.cr.usgs.gov</code></a> today. You should have already tested that your NASA Earthdata login works for files on that site. </p>
<p>If you unsure about your login and/or password, test them on <a href="https://urs.earthdata.nasa.gov/home">the Earthdata login page</a>.</p>
<p>We should see that a call to <code>Cylog(url).login()</code> returns the username and password.</p>
<p>So, if you like, you can check what you have stored in <a href="../geog0111/cylog.py">cylog</a> by using:</p>
<pre><code>url='https://e4ftl01.cr.usgs.gov'
print(Cylog(url).login())
</code></pre>
<p>If you want to check it, run those commands in the cell below (uncomment the print line).</p>
<pre><code class="language-python">from geog0111.cylog import Cylog
url='https://e4ftl01.cr.usgs.gov'
#print(Cylog(url).login())
</code></pre>
<p>If you are prompted for a login and password, this means that you haven't previously entered one for this site (just enter them now, or go back and look at <a href="../004_Accounts/">004_Accounts</a>. </p>
<h2 id="resources-from-a-url">Resources from a URL</h2>
<h3 id="urlpath"><code>urlpath</code></h3>
<p>The library <a href="https://github.com/chrono-meter/urlpath"><code>urlpath</code></a> is designed to operate in a similar manner to <code>pathlib</code> for reading data from URLs. It is based on <a href="https://docs.python.org/3/library/urllib.parse.html">urllib.parse</a> and <a href="https://requests.readthedocs.io/en/master/">requests</a>. It doesn't quite have all of the functionality we will need, but it goes a long way to an object-oriented URL library that is similar to Pathlib. </p>
<p>The object in <code>urlpath</code> corresponding to <code>Path</code> is <code>URL</code>.</p>
<p>A text file example:</p>
<pre><code class="language-python">from urlpath import URL
site = 'https://www.metoffice.gov.uk/'
site_dir = 'hadobs/hadukp/data/monthly'
site_file = 'HadSEEP_monthly_qc.txt'

url = URL(site,site_dir,site_file)
print(f'remote file {url}')
</code></pre>
<pre><code>remote file https://www.metoffice.gov.uk/hadobs/hadukp/data/monthly/HadSEEP_monthly_qc.txt
</code></pre>
<p>A binary file example:</p>
<pre><code class="language-python">from urlpath import URL

site = 'https://e4ftl01.cr.usgs.gov'
site_dir = 'MOTA/MCD15A3H.006/2020.01.01'
site_file = 'MCD15A3H.A2020001.h08v06.006.2020006032951.hdf'

url = URL(site,site_dir,site_file)
print(f'remote file {url}')
</code></pre>
<pre><code>remote file https://e4ftl01.cr.usgs.gov/MOTA/MCD15A3H.006/2020.01.01/MCD15A3H.A2020001.h08v06.006.2020006032951.hdf
</code></pre>
<p>We have similar functionality in <code>URL</code> to <code>Path</code> for manipulating filenames, but more limited file information:</p>
<pre><code class="language-python">print(f'URL    : {url}')
print(f'name   : {url.name}')
print(f'parent : {url.parent}')
</code></pre>
<pre><code>URL    : https://e4ftl01.cr.usgs.gov/MOTA/MCD15A3H.006/2020.01.01/MCD15A3H.A2020001.h08v06.006.2020006032951.hdf
name   : MCD15A3H.A2020001.h08v06.006.2020006032951.hdf
parent : https://e4ftl01.cr.usgs.gov/MOTA/MCD15A3H.006/2020.01.01
</code></pre>
<p>but also some other helpful ones on the URL:</p>
<pre><code class="language-python">from pathlib import Path

print(f'anchor   : {url.anchor}')
print(f'hostname : {url.hostinfo}')
print(f'scheme   : {url.scheme}')
print(f'name     : {url.name}')
print(f'netloc   : {url.netloc}')
print(f'parts    : {url.parent.parts}') # parent parts
</code></pre>
<pre><code>anchor   : https://e4ftl01.cr.usgs.gov
hostname : e4ftl01.cr.usgs.gov
scheme   : https
name     : MCD15A3H.A2020001.h08v06.006.2020006032951.hdf
netloc   : e4ftl01.cr.usgs.gov
parts    : ('https://e4ftl01.cr.usgs.gov', 'MOTA', 'MCD15A3H.006', '2020.01.01')
</code></pre>
<h4 id="exercise-1">Exercise 1</h4>
<ul>
<li>create a <code>URL</code> object for the file <code>table.html</code> in the directory <code>psd/enso/mei/</code> on the site <code>http://www.esrl.noaa.gov/</code>.</li>
<li>print out the url name and check it is <code>table.html</code></li>
</ul>
<p>For accessing URLs, will mostly make use of the following functions in <code>URL</code> that you will see are very similar to those for <code>Path</code>:</p>
<table>
<thead>
<tr>
<th>function</th>
<th>purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>URL.name</code></td>
<td>filename</td>
</tr>
<tr>
<td><code>URL.parent</code></td>
<td>parent</td>
</tr>
<tr>
<td><code>URL.parts</code></td>
<td>parts</td>
</tr>
<tr>
<td><code>URL.as_posix()</code></td>
<td>return URL as posix string</td>
</tr>
<tr>
<td><code>URL.with_userinfo()</code></td>
<td>add in username and password</td>
</tr>
<tr>
<td><code>URL.get()</code></td>
<td>URL get. Returns <code>requests.models.Response</code></td>
</tr>
<tr>
<td><code>URL.netloc</code></td>
<td>network location e.g. <code>www.google.com</code></td>
</tr>
<tr>
<td><code>URL.path</code></td>
<td>full pathname on server (including filename)</td>
</tr>
</tbody>
</table>
<h4 id="urlget"><code>URL.get()</code></h4>
<p>We can use <code>URL.get()</code> to access data. This returns a response (more formally, a type <a href="https://docs.python-requests.org/en/latest/"><code>requests.models.Response</code></a>):</p>
<pre><code>r = URL.get()
</code></pre>
<p><code>requests.models.Response</code> information table:</p>
<table>
<thead>
<tr>
<th>function</th>
<th>purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>r.status_code</code></td>
<td>return code after request. You need to check this in case the call fails. It should be <code>200</code> if ok.</td>
</tr>
<tr>
<td><code>r.text</code></td>
<td>text content returned</td>
</tr>
<tr>
<td><code>r.json</code></td>
<td>text content interpreted as json</td>
</tr>
<tr>
<td><code>r.content</code></td>
<td>binary content returned</td>
</tr>
</tbody>
</table>
<p>If the access has been successful, then <code>r.status_code</code> should return <code>200</code> (or <code>requests.codes.ok</code>). If it is <code>401</code> then there has been an access error. You can find the fuller list of possible <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status">http status codes</a> on the web. </p>
<p>If the data type to be accessed is raw (ASCII) text, then you can access the data with <code>r.text</code>. <a href="https://docs.python-requests.org/en/latest/">Similarly</a>, if it is <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/JSON">json</a>, <code>r.json</code>, or binary <code>r.content</code></p>
<pre><code class="language-python">from urlpath import URL

site = 'https://covid.ourworldindata.org'
site_dir = 'data/ecdc'
site_file = 'full_data.csv'
site_file = 'locations.csv'

url = URL(site,site_dir,site_file)
r = url.get()

# check error code: 200 is good
# 
if r.status_code == 200:
    print(f'data access good for {url.as_posix()}')

    # get data as text
    data = r.text
    # print first 500 characters
    print('\n==== data as text ====')
    print(data[:500])

    # get data as binary
    data = r.content
    # print first 500 characters
    print('\n==== data as binary ====')
    print(data[:500])
</code></pre>
<pre><code>data access good for https://covid.ourworldindata.org/data/ecdc/locations.csv

==== data as text ====
countriesAndTerritories,location,continent,population_year,population
Afghanistan,Afghanistan,Asia,2020,38928341
Albania,Albania,Europe,2020,2877800
Algeria,Algeria,Africa,2020,43851043
Andorra,Andorra,Europe,2020,77265
Angola,Angola,Africa,2020,32866268
Anguilla,Anguilla,North America,2020,15002
Antigua_and_Barbuda,Antigua and Barbuda,North America,2020,97928
Argentina,Argentina,South America,2020,45195777
Armenia,Armenia,Asia,2020,2963234
Aruba,Aruba,North America,2020,106766
Australia,Austral

==== data as binary ====
b'countriesAndTerritories,location,continent,population_year,population\nAfghanistan,Afghanistan,Asia,2020,38928341\nAlbania,Albania,Europe,2020,2877800\nAlgeria,Algeria,Africa,2020,43851043\nAndorra,Andorra,Europe,2020,77265\nAngola,Angola,Africa,2020,32866268\nAnguilla,Anguilla,North America,2020,15002\nAntigua_and_Barbuda,Antigua and Barbuda,North America,2020,97928\nArgentina,Argentina,South America,2020,45195777\nArmenia,Armenia,Asia,2020,2963234\nAruba,Aruba,North America,2020,106766\nAustralia,Austral'
</code></pre>
<h4 id="exercise-1_1">Exercise 1</h4>
<ul>
<li>Use the <code>URL.get()</code> method to pull data from <code>https://covid.ourworldindata.org/data/ecdc/full_data.csv</code> and store in a file called <code>work/full_data.csv</code>.</li>
<li>check the file size</li>
<li>show the first few lines of data</li>
</ul>
<h2 id="modis-data">MODIS data|</h2>
<h4 id="getting-a-modis-product-url">Getting a MODIS product URL</h4>
<p>If we need to add a username and password to access a URL, we can add this to the URL object with <code>URL.with_userinfo(USERNAME,PASSWORD)</code>. We will demonstrate this with accessing data from NASA servers.</p>
<p>One of the deepest sources of geospatial information over the last two decades is that obtained from the NASA <a href="https://modis.gsfc.nasa.gov/data/dataprod/">MODIS</a> products. We will make use of various MODIS datasets in this course. We can access these via a URL.</p>
<p>The encoding for this is not very complex, but is a bit beyond what we have time to go through at this stage of the course. For that reason, we will be using the local utility <a href="geog0111/modisUtils.py"><code>geog0111.modisUtils.modisURL</code></a> to access MODIS URLs. Further, accessing the URLs for these data needs a data file to vbe downloaded from the web. This can take some time, so in this code, we provide a cache of files that we have already downloaded. If you access a data product/date for the first time, it will take a minute to access the information. The next time you access, it will be immediate as you will use the cached version. See the help information for more details.</p>
<p>We use the example of the product <a href="https://lpdaac.usgs.gov/products/mcd15a3hv006/"><code>MCD15A3H</code></a> below. This is the MODIS 4-day Leaf Area Index product.</p>
<pre><code class="language-python">from geog0111.modisUtils import modisURL

# uncomment this to look at the help for this function
#help(modisURL)
</code></pre>
<pre><code class="language-python">from geog0111.modisUtils import modisURL

# set up control for which MODIS product/date/tile

modinfo = {  
    'product'  : 'MCD15A3H',
    'year'     : 2020,
    'month'    : 1,
    'day'      : 5,
    'tile'     : 'h08v06'
}

url = modisURL(**modinfo,verbose=False)
print(f'-&gt; {url}')
</code></pre>
<pre><code>-&gt; https://e4ftl01.cr.usgs.gov/MOTA/MCD15A3H.006/2020.01.05/MCD15A3H.A2020005.h08v06.006.2020010210940.hdf
</code></pre>
<h4 id="pulling-modis-data-with-password">Pulling MODIS data with password</h4>
<p>We add the username and password with <code>URL.with_userinfo(USERNAME,PASSWORD)</code>.</p>
<p>Rather than type this information in here or expose it in stored notebooks, we retrieve it using Cylog: </p>
<pre><code class="language-python">from geog0111.modisUtils import modisURL
from geog0111.cylog import Cylog
from urlpath import URL
from pathlib import Path

# set up control for which MODIS product/date/tile

modinfo = {  
    'product'  : 'MCD15A3H',
    'year'     : 2020,
    'month'    : 1,
    'day'      : 1,
    'tile'     : 'h08v06'
}

url = modisURL(**modinfo,verbose=False)
if (url):
    print(f'anchor: {url.anchor}')
    print(f'-&gt; {url}')

    # use url.anchor to get server name for Cylog
    # add the username and password
    username,password = Cylog(url.anchor).login()
    url = url.with_userinfo(username,password)

    # uncomment this line to see how username and password are inserted
    #print(f'-&gt; {url}')
else:
    print(f'error with data request')
</code></pre>
<pre><code>anchor: https://e4ftl01.cr.usgs.gov
-&gt; https://e4ftl01.cr.usgs.gov/MOTA/MCD15A3H.006/2020.01.01/MCD15A3H.A2020001.h08v06.006.2020006032951.hdf
</code></pre>
<p>Because of the NASA login, we need to make two calls to the server. The first will get a new URL with encoded authentification information. </p>
<p><code>url.get()</code> returns an object of type <code>requests.models.Response</code>. The new URL will be <code>r.url</code>, so we take that and add the username and password to it again.</p>
<pre><code class="language-python"># first call to URL to get auth
r = url.get()
url2 = URL(r.url).with_userinfo(username,password)
</code></pre>
<p>Now we can make a call to this with <code>get()</code> to retrieve the data from the URL. We need to check that the <code>status_code</code> returned is 200 to see if the call worked:</p>
<pre><code class="language-python">r2 = url2.get()
print(f'response: {r2.status_code}')
</code></pre>
<pre><code>response: 200
</code></pre>
<p>If its ok, we can get the binary data as <code>r2.content</code> and use <code>Path().write_bytes()</code> to write this to a file:</p>
<pre><code class="language-python">if r2.status_code == 200:

    # setup Path object for output file
    filename = Path('work',url.name)

    # write binary data
    filename.write_bytes(r2.content)

    # check size:
    size_MB = filename.stat().st_size/(1024**2)

    # report
    print(f'file {filename} written: {size_MB :.1f} MB')
else:
    print(f'{url} status code {r2.status_code}')
</code></pre>
<pre><code>file work/MCD15A3H.A2020001.h08v06.006.2020006032951.hdf written: 8.6 MB
</code></pre>
<p>Occasionally, you will find that the calls to get data from the server will not work, and may produce 401 errors. </p>
<p>This is typically because:
* it is Wednesday, when the servers are down for maintenance
* the load is too high on the servers, in which case, wait a minute and try again or set the timeout option <code>URL.get(timeout=200)</code>.</p>
<h4 id="exercise-2">Exercise 2</h4>
<ul>
<li>pull the MODIS dataset <code>MCD15A3H</code> for 9 January 2019 for tile <code>h08v06</code> and confirm that the dataset size is 8.5 MB</li>
</ul>
<h4 id="easier-modis-file-access">Easier MODIS file access</h4>
<p>In fact, we have a related MODIS utility <code>modisFile</code> that does all of this for you, and uses the cache to store files we have previously downloaded. You will generally be using that then, but you should know how to get the binary data from the URL directly as above to be a competent programmer.</p>
<pre><code class="language-python">from geog0111.modisUtils import modisFile

# set up control for which MODIS product/date/tile

modinfo = {  
    'product'  : 'MCD15A3H',
    'year'     : 2020,
    'month'    : 1,
    'day'      : 5,
    'tile'     : 'h08v06'
}

filename = modisFile(**modinfo,verbose=False)

if filename:
    size_MB = filename.stat().st_size/(1024**2)

    # report
    print(f'file {filename} is: {size_MB :.1f} MB')
</code></pre>
<pre><code>file /home/ucfalew/.modis_cache/e4ftl01.cr.usgs.gov/MOTA/MCD15A3H.006/2020.01.05/MCD15A3H.A2020005.h08v06.006.2020010210940.hdf is: 8.9 MB
</code></pre>
<h4 id="exercise-3">Exercise 3</h4>
<ul>
<li>pull the MODIS dataset <code>MCD15A3H</code> for 13 January 2019 for tile <code>h08v06</code> using <code>modisFile</code> and confirm that the dataset size is 8.5 MB</li>
</ul>
<h3 id="gdal"><code>gdal</code></h3>
<p>The MODIS files are in <code>hdf</code> format, and as we have noted, we do not generally want direct access to the raw (byte) information. Instead we must use some package to interpret the data. </p>
<p>We can use the package <a href="https://gdal.org/python/"><code>gdal</code></a> to access information from these and other geospatial files. We will explore the contents of MODIS files in a later session, but for now, we can note that each MODIS file contains a set of sub datasets.</p>
<p>Basic use of <code>gdal</code> in this context is:</p>
<pre><code>g = gdal.Open(filename.as_posix())
</code></pre>
<p>where <code>filename.as_posix()</code> is a string of the filename we want open the file in <code>gdal</code>. If this returns None, there has been a problem opening the file, so we might check that.</p>
<p>Then</p>
<pre><code>g.GetSubDatasets()
</code></pre>
<p>returns a list of sub-dataset information. Each item in the list is a tuple of two strings. In each, the first is the full name of the sub-dataset, and the second a text descriptor of the dataset. We call these <code>filename,name</code> below.</p>
<p>We read the dataset with:</p>
<pre><code>gsub = gdal.Open(filename)
data = gsub.ReadAsArray()
</code></pre>
<p>In the illustration below, we will examine only the first sub-dataset <code>g.GetSubDatasets()[0]</code>.</p>
<pre><code class="language-python">import gdal
from geog0111.modisUtils import modisFile
# settings

modinfo = {  
    'product'  : 'MCD15A3H',
    'year'     : 2019,
    'month'    : 2,
    'day'      : 10,
    'tile'     : 'h08v06'
}

filename = modisFile(**modinfo,verbose=False)

if filename:
# open the local file associated with the dataset
    g = gdal.Open(filename.as_posix())
    if g:
        # get the first SDS only for illustration
        filename,name = g.GetSubDatasets()[0]
        print(f'dataset info is: {name}')
        # read the dataset
        gsub = gdal.Open(filename)
        if gsub:
            data = gsub.ReadAsArray()
        print(f'dataset read is shape {data.shape} and type {type(data)}')
</code></pre>
<pre><code>dataset info is: [2400x2400] Fpar_500m MOD_Grid_MCD15A3H (8-bit unsigned integer)
dataset read is shape (2400, 2400) and type &lt;class 'numpy.ndarray'&gt;
</code></pre>
<h4 id="exercise-4">Exercise 4</h4>
<pre><code>name = '[2400x2400] Fpar_500m MOD_Grid_MCD15A3H (8-bit unsigned integer)'
</code></pre>
<ul>
<li>Take the string variable <code>name</code> above, split it to obtain the second field (<code>Fpar_500m</code> here) and store this in a variable <code>sds_name</code></li>
<li>Write a function called <code>getModisTiledata</code> that reads an HDF (MODIS) filename, and returns a dictionary of all of the sub-datasets in the file, using <code>ReadAsArray()</code>. The dictionary keys should correspond to the items in  <code>sds_name</code> above.</li>
<li>test the code by showing the keys in the dictionary returned and the shape of their dataset</li>
</ul>
<p>You will need to recall how to split a string, that was covered in <a href="../013_Python_string_methods/#split()-and-join()">013 Python string methods</a>. You will also need to recall how to <a href="../016_Python_for/#looping-over-dictionaries,-and-assert">loop over a dictionary</a>. We saw how to find the shape of the dataset returned above (<code>.shape</code>).</p>
<h2 id="summary">Summary</h2>
<p>In this section, we have considered URLs in some detail in the same way as we did filenames, and made use of functions from <a href="https://github.com/chrono-meter/urlpath">urlpath</a> to access them. </p>
<table>
<thead>
<tr>
<th>function</th>
<th>purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>URL.name</code></td>
<td>filename</td>
</tr>
<tr>
<td><code>URL.parent</code></td>
<td>parent</td>
</tr>
<tr>
<td><code>URL.parts</code></td>
<td>parts</td>
</tr>
<tr>
<td><code>URL.as_posix()</code></td>
<td>return URL as posix string</td>
</tr>
<tr>
<td><code>URL.with_userinfo()</code></td>
<td>add in username and password</td>
</tr>
<tr>
<td><code>URL.get()</code></td>
<td>URL get. Returns <code>requests.models.Response</code></td>
</tr>
<tr>
<td><code>URL.netloc</code></td>
<td>network location e.g. <code>www.google.com</code></td>
</tr>
<tr>
<td><code>URL.path</code></td>
<td>full pathname on server (including filename)</td>
</tr>
</tbody>
</table>
<p>We have seen how to access and download both text and binary files from the web using <code>URL.get()</code>. We have seen how to add username and password information to this, and have used that to access MODIS binary datasets. We know how to save the files that we download.</p>
<p>We have seen a simple MODIS file library to make downloading datasets easier. This includes caching of datasets that otherwise can take a long time to download. It also allows for sharing of downloaded datasets through a system-wide cache. </p>
<p>There will be times when a call to a URL doesn't return as expected. There can be several reasons for this, so you should check that you have formed the URL correctly and that the data you expect to download exists. </p>
<p>Functions in <code>modisUtils</code>:</p>
<table>
<thead>
<tr>
<th>function</th>
<th>purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>modisFile</code></td>
<td>get a Path object for a file of the requested MODIS dataset, either from cache, or by downloading</td>
</tr>
<tr>
<td><code>modisURL</code></td>
<td>get the URL of a MODIS dataset, possibly using a cache for the filename</td>
</tr>
</tbody>
</table>
<p>Even then, there can be times when the server load or network traffic mean that your request times out. In such cases, you should try again a short while afterwards, and consider setting a timeout on the <code>URL.get()</code> call. In any case, this point illustrates the need for comprehensive error checking: you cannot just assume that you download of data has worked, you must check it. This should also apply when you are using any files: check that any file you want to read exists and perhaps see if it is non-zero sized. You can trap errors, but it is best to try foresee them.</p>
<p>We have learned a little of how to use <code>gdal</code> to look at the sub-datasets in an HDF file and also how to read them.</p>
<p><code>gdal</code></p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>g = gdal.Open(filename)</code></td>
<td>Open geospatial file <code>filename</code> and return <code>gdal</code> object <code>g</code> (<code>None</code> if file not opened correctly)</td>
</tr>
<tr>
<td><code>g.GetSubDatasets()</code></td>
<td>Get list of sub-datasets from <code>gdal</code> object <code>g</code></td>
</tr>
<tr>
<td><code>g.ReadAsArray()</code></td>
<td>Read dataset from <code>gdal</code> object <code>g</code> into array</td>
</tr>
</tbody>
</table>
<p>You should now have some confidence in these matters, so that if you were set a task of downloading and saving datasets, as well as other tasks such as finding their size, whether the exists or not, you could do this. </p>
                
                  
                    

<hr>
<div class="md-source-date">
  <small>
    
      Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">September 29, 2021</span>
    
  </small>
</div>
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://twitter.com/prof_plewis" target="_blank" rel="noopener" title="twitter.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://hub.docker.com/r/proflewis/geog0111" target="_blank" rel="noopener" title="hub.docker.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://github.com/UCL-EO/geog0111" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.0ac82a11.min.js"></script>
      <script src="../assets/javascripts/bundle.f81dfb4d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../javascripts/config.js"></script>
      
    
  </body>
</html>